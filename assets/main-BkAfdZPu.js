(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))f(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&f(a)}).observe(document,{childList:!0,subtree:!0});function g(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function f(t){if(t.ep)return;t.ep=!0;const o=g(t);fetch(t.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const v=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),direction:"vertical",smooth:!0,smoothTouch:!1});function l(e){v.raf(e),requestAnimationFrame(l)}requestAnimationFrame(l);const g=()=>{const e=document.getElementById("canvas-container");if(!e)return;const r=new THREE.Scene,n=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3);n.position.z=2.5;const i=new THREE.WebGLRenderer({alpha:!0,antialias:!0});i.setSize(window.innerWidth,window.innerHeight),i.setPixelRatio(window.devicePixelRatio),e.appendChild(i.domElement);const x=new THREE.BufferGeometry,T=1800,p=new Float32Array(T*3);for(let s=0;s<T*3;s++){const w=1.2+Math.random()*.5,P=Math.random()*Math.PI*2,E=Math.acos(Math.random()*2-1),z=w*Math.sin(E)*Math.cos(P),F=w*Math.sin(E)*Math.sin(P),N=w*Math.cos(E);p[s]=z,p[s+1]=F,p[s+2]=N}x.setAttribute("position",new THREE.BufferAttribute(p,3));const R=new THREE.PointsMaterial({size:.008,color:3900150,transparent:!0,opacity:.8,blending:THREE.AdditiveBlending}),c=new THREE.Points(x,R);r.add(c);let A=0,S=0,H=0,I=0;const O=window.innerWidth/2,W=window.innerHeight/2;document.addEventListener("mousemove",s=>{A=s.clientX-O,S=s.clientY-W});const C=()=>{requestAnimationFrame(C),H=A*5e-4,I=S*5e-4,c.rotation.y+=.002,c.rotation.x+=.001,c.rotation.y+=.05*(H-c.rotation.y),c.rotation.x+=.05*(I-c.rotation.x),i.render(r,n)};C(),window.addEventListener("resize",()=>{n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)})};window.innerWidth>768&&g(),gsap.registerPlugin(ScrollTrigger),gsap.timeline().from(".header",{y:-50,opacity:0,duration:1,ease:"power3.out"}).from(".badge",{y:20,opacity:0,duration:.8},"-=0.5").from(".hero__title",{y:50,opacity:0,duration:1,ease:"power3.out"},"-=0.6").from(".hero__subtitle",{y:30,opacity:0,duration:.8},"-=0.6").from(".hero__btns",{y:20,opacity:0,duration:.8},"-=0.6"),gsap.utils.toArray(".section").forEach(e=>{const r=e.querySelector(".section__title"),n=e.querySelector(".section__desc");r&&gsap.from(r,{scrollTrigger:{trigger:e,start:"top 85%"},y:40,opacity:0,duration:.8,ease:"power2.out"}),n&&gsap.from(n,{scrollTrigger:{trigger:e,start:"top 85%"},y:30,opacity:0,duration:.8,delay:.1,ease:"power2.out"})}),gsap.utils.toArray(".card").forEach((e,r)=>{gsap.from(e,{scrollTrigger:{trigger:e.parentElement,start:"top 80%"},y:50,opacity:0,duration:.6,delay:r*.1})}),gsap.utils.toArray(".blog-card").forEach((e,r)=>{gsap.from(e,{scrollTrigger:{trigger:e.parentElement,start:"top 80%"},y:50,opacity:0,duration:.6,delay:r*.1})});const t=document.querySelector(".header");window.addEventListener("scroll",()=>{window.scrollY>50?t.classList.add("scrolled"):t.classList.remove("scrolled")});const o=document.querySelector(".burger-menu"),a=document.querySelector(".nav"),q=document.querySelectorAll(".nav__link"),M=()=>{a.classList.toggle("open"),o.classList.toggle("active");const e=o.querySelectorAll("span");a.classList.contains("open")?(e[0].style.transform="rotate(45deg) translate(5px, 5px)",e[1].style.opacity="0",e[2].style.transform="rotate(-45deg) translate(5px, -5px)"):(e[0].style.transform="none",e[1].style.opacity="1",e[2].style.transform="none")};o.addEventListener("click",M),q.forEach(e=>{e.addEventListener("click",()=>{a.classList.contains("open")&&M()})});const y=document.getElementById("mainForm"),d=document.getElementById("formMessage"),B=document.getElementById("phone"),L=document.getElementById("captcha-question"),h=document.getElementById("captcha-answer");let u=Math.floor(Math.random()*10),m=Math.floor(Math.random()*10);L.textContent=`${u} + ${m} = ?`,B.addEventListener("input",e=>{e.target.value=e.target.value.replace(/\D/g,"")}),y.addEventListener("submit",e=>{e.preventDefault();const r=u+m;if(parseInt(h.value)!==r){d.textContent="Ошибка: Неверное решение примера.",d.className="form-message error",h.style.borderColor="red",setTimeout(()=>h.style.borderColor="rgba(255,255,255,0.05)",2e3);return}const n=y.querySelector('button[type="submit"]'),i=n.textContent;n.textContent="Отправка...",n.disabled=!0,n.style.opacity="0.7",setTimeout(()=>{n.textContent=i,n.disabled=!1,n.style.opacity="1",d.textContent="Спасибо! Ваша заявка успешно отправлена.",d.className="form-message success",y.reset(),u=Math.floor(Math.random()*10),m=Math.floor(Math.random()*10),L.textContent=`${u} + ${m} = ?`,setTimeout(()=>{d.textContent="",d.className="form-message"},5e3)},1500)});const b=document.getElementById("cookiePopup"),_=document.getElementById("acceptCookies");localStorage.getItem("cookiesAccepted")||setTimeout(()=>{b.classList.add("show")},2e3),_.addEventListener("click",()=>{localStorage.setItem("cookiesAccepted","true"),b.classList.remove("show")})});
//# sourceMappingURL=main-BkAfdZPu.js.map
